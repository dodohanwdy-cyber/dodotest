@import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.css");

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --font-pretendard: "Pretendard Variable", "Pretendard", -apple-system, "BlinkMacSystemFont", "system-ui", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", sans-serif;
  --background: #ffffff;
  --foreground: #191f28; /* 토스 스타일 차분한 블랙 */
  --primary: #3182f6; /* 토스 블루 */
  --primary-foreground: #ffffff;
  --secondary: #f2f4f6; /* 토스 스타일 배경 회색 */
  --secondary-foreground: #191f28;
  --accent: #ffd12d; /* 부드러운 옐로우 */
  --accent-foreground: #191f28;
  --radius: 1.5rem; /* 더 둥근 라운딩 */
}

.dark {
  --background: #020617;
  --foreground: #f8fafc;
  --primary: #3b82f6;
  --primary-foreground: #ffffff;
  --secondary: #1e293b;
  --secondary-foreground: #f8fafc;
  --accent: #fbbf24;
  --accent-foreground: #020617;
}

* {
  word-break: keep-all;
  overflow-wrap: break-word;
}

body {
  background-color: var(--background);
  color: var(--foreground);
  font-family:
    "Pretendard Var",
    "Pretendard",
    -apple-system,
    BlinkMacSystemFont,
    system-ui,
    Roboto,
    "Helvetica Neue",
    "Segoe UI",
    "Apple SD Gothic Neo",
    "Noto Sans KR",
    "Malgun Gothic",
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    sans-serif;
}

/* 특정 페이지에서 글로벌 내비게이션 숨기기 기능 */
body.hide-global-navbar .global-navbar {
  display: none !important;
}

/* MZ 스타일 글래스모피즘 효과 */
.glass {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.dark .glass {
  background: rgba(24, 24, 27, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* 부드러운 카드 스타일 */
.card-premium {
  @apply bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-200;
}

/* 버튼 마이크로 애니메이션 */
.btn-interactive {
  @apply active:scale-95 transition-transform duration-100;
}

@keyframes bounce-subtle {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

@keyframes progress-stripe {
  from { background-position: 24px 0; }
  to { background-position: 0 0; }
}

.animate-stripe {
  background-image: linear-gradient(
    45deg,
    rgba(255, 255, 255, 0.15) 25%,
    transparent 25%,
    transparent 50%,
    rgba(255, 255, 255, 0.15) 50%,
    rgba(255, 255, 255, 0.15) 75%,
    transparent 75%,
    transparent
  );
  background-size: 24px 24px;
  animation: progress-stripe 1s linear infinite;
}

@keyframes spin-slow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.animate-spin-slow {
  animation: spin-slow 8s linear infinite;
}

.animate-bounce-subtle {
  animation: bounce-subtle 2s infinite ease-in-out;
}

/* 프린트 스타일 최적화: 리포트 출력 최적화 */
@media print {
  /* ── 페이지 설정: A4 가로(Landscape), 여백 최소화 ── */
  @page {
    size: A4 landscape;
    margin: 8mm 10mm;
  }

  /* ── 불필요한 UI 숨기기 ── */
  nav, footer, button,
  .sticky, .navbar-container,
  .footer-container,
  .print\:hidden { display: none !important; }

  /* ── 배경·색상 보존 ── */
  body {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    background: white !important;
    margin: 0 !important;
    padding: 0 !important;
    font-size: 8.5pt !important;
    line-height: 1.35 !important;
  }

  /* ── 전체 컨테이너: 100% 너비 사용 ── */
  .max-w-6xl, .max-w-7xl, .max-w-5xl {
    max-width: 100% !important;
    width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  /* ── main 그리드: 2컬럼 (왼쪽 좁게, 오른쪽 넓게) ── */
  main.grid {
    display: grid !important;
    grid-template-columns: 200pt 1fr !important;
    gap: 10pt !important;
    margin-top: 6pt !important;
    padding: 0 !important;
  }

  /* ── section 공통: 패딩 최소화, 페이지 분리 방지 ── */
  section {
    break-inside: avoid !important;
    padding: 8pt !important;
    margin-bottom: 8pt !important;
    border: 1px solid #e5e7eb !important;
    border-radius: 8pt !important;
    box-shadow: none !important;
  }

  /* ── 오른쪽 컬럼 섹션들: 조밀하게 ── */
  .lg\:col-span-2 section {
    padding: 7pt !important;
    margin-bottom: 6pt !important;
  }

  /* ── 내부 그리드 (참여도 변화 + 특이사항 나란히) ── */
  .grid.grid-cols-1.md\:grid-cols-2 {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 8pt !important;
  }

  /* ── 정책 실행 계획 그리드 ── */
  .grid.grid-cols-1.md\:grid-cols-2.gap-8 {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 8pt !important;
  }

  /* ── min-height 전부 제거 ── */
  [class*="min-h-"] {
    min-height: 0 !important;
  }

  /* ── 여백·패딩 축소 ── */
  .p-10  { padding: 8pt !important; }
  .p-8   { padding: 7pt !important; }
  .p-7   { padding: 6pt !important; }
  .p-6   { padding: 5pt !important; }
  .p-5   { padding: 4pt !important; }
  .p-4   { padding: 3pt !important; }

  .gap-10 { gap: 8pt !important; }
  .gap-8  { gap: 6pt !important; }
  .gap-6  { gap: 5pt !important; }

  .mb-10 { margin-bottom: 6pt !important; }
  .mb-8  { margin-bottom: 5pt !important; }
  .mb-6  { margin-bottom: 4pt !important; }
  .mt-10 { margin-top: 6pt !important; }
  .mt-4  { margin-top: 3pt !important; }

  .space-y-10 > * + * { margin-top: 6pt !important; }
  .space-y-8  > * + * { margin-top: 5pt !important; }
  .space-y-6  > * + * { margin-top: 4pt !important; }
  .space-y-4  > * + * { margin-top: 3pt !important; }
  .space-y-3  > * + * { margin-top: 2pt !important; }

  /* ── 폰트 크기 ── */
  h1 { font-size: 16pt !important; margin-bottom: 3pt !important; }
  h2 { font-size: 11pt !important; margin-bottom: 4pt !important; }
  h3 { font-size: 9.5pt !important; margin-bottom: 3pt !important; }
  h4 { font-size: 8.5pt !important; margin-bottom: 2pt !important; }
  p, span, div, li { font-size: 8pt !important; line-height: 1.35 !important; }

  .text-2xl  { font-size: 14pt !important; }
  .text-xl   { font-size: 12pt !important; }
  .text-lg   { font-size: 10pt !important; }
  .text-sm   { font-size: 7.5pt !important; }
  .text-xs   { font-size: 7pt !important; }
  .text-\[10px\], .text-\[11px\] { font-size: 6.5pt !important; }

  /* ── 아이콘·프로필 이미지 크기 축소 ── */
  .w-16.h-16 { width: 32pt !important; height: 32pt !important; }
  .w-12.h-12 { width: 24pt !important; height: 24pt !important; }
  .w-10.h-10 { width: 20pt !important; height: 20pt !important; }
  .w-8.h-8   { width: 16pt !important; height: 16pt !important; }

  /* ── 위기 점수 바 높이 ── */
  .h-4 { height: 6pt !important; }

  /* ── 키워드 태그 ── */
  .px-4.py-2 { padding: 2pt 6pt !important; }
  .rounded-2xl { border-radius: 5pt !important; }
  .rounded-\[32px\] { border-radius: 8pt !important; }

  /* ── 내담자 전달 메시지 박스 ── */
  .border-dashed { border-style: dashed !important; }
  .whitespace-pre-wrap { white-space: pre-wrap !important; }

  /* ── 색상 배경 보존 ── */
  .bg-zinc-900 { background-color: #18181b !important; color: white !important; }
  .bg-primary\/5 { background-color: #eff6ff !important; }

  /* ── pb-20 등 하단 여백 제거 ── */
  .pb-20 { padding-bottom: 0 !important; }
  .pb-10 { padding-bottom: 0 !important; }
}
